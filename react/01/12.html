<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>React学习</title>
	<script type="text/javascript" src="js/react.min.js"></script>
	<script src="js/JSXTransformer.js"></script>
	<script src="js/jquery.min.js"></script>
</head>
<body>
	<div id="content"></div>
	<script type="text/jsx">
		var Page = React.createClass({
	    render: function(){
	        var ContentModes = this.props.data.map(function(content){
	            return (
	                <p className="pline" data-age={content.age}>{content.name}</p>
	            )
	        });
	        return (
	            <div className="homepage">{ContentModes}</div>
	        )
	    }
	});
	/* 内容区模块代码 */
	var ContentMode = React.createClass({
	    getInitialState: function(){
	        return {data:[]};
	    },
	    componentDidMount: function(){
	        $.ajax({
	            url: this.props.url,
	            dataType:'json',
	            success: function(data){
	                this.setState({data:data});
	            }.bind(this),
	            error: function(xhr,status,err){
	                console.log(this.props.url,status,err.toString());
	            }.bind(this)
	        });
	    },
	    render: function(){
	        return (
	            <div className="ContentMode">
	                <h1>内容渲染进来</h1>
	                <Page data={this.state.data} />
	            </div>
	        )
	    }
	});
	/* 初始化到content容器内 */
	React.render(
	    <ContentMode url="./js/page.json" />, document.getElementById("content")
	);
	</script>
</body>
</html>